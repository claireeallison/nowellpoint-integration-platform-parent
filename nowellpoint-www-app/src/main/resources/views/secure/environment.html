<#import "template.html" as t>
    <@t.page>
        <#include "navbar.html" />
        <div class="container">
            <div class="row">
                <div class="dashhead m-t-md">
                    <div class="dashhead">
                        <div class="dashhead-titles">
                            <h6 class="dashhead-subtitle">${labels["environment.detail"]}</h6>
                        </div>
                    </div>
                </div>
                <div class="hr-divider"></div>
            </div>
            <div class="row">

                <br>

                <#if errorMessage??>
                    <div id="alert" class="alert alert-danger">
                        <a class="close" data-dismiss="alert">Ã—</a>
                        <div class="text-center">${errorMessage}</div>
                    </div>
                </#if>

                <form id="enviroment-form" name="enviroment-form" method="post" action="${action}">

                    <div class="row">
                        <div class="form-group col-md-4"></div>
                        <div class="form-group col-md-4">
                            <div class="form-group">
                                <label class="control-label" for="environmentName">${labels["environment.name"]}</label>
                                <#if environment.isReadOnly>
                                    <input type="text" class="form-control" value="${(environment.environmentName)!}" disabled tabindex="1" />
                                </#if>
                                <#if ! environment.isReadOnly>
                                    <input type="text" class="form-control" name="environmentName" id="environmentName" value="${(environment.environmentName)!}" required autofocus="" tabindex="1" />
                                </#if>
                            </div>

                            <div class="form-group">
                                <label class="control-label" for="authEndpoint">${labels["auth.endpoint"]}</label>
                                <#if environment.isReadOnly>
                                    <input type="text" class="form-control" value="${(environment.authEndpoint)!}" disabled tabindex="3" />
                                </#if>

                                <#if ! environment.isReadOnly>
                                    <select id="authEndpoint" name="authEndpoint" class="form-control" required tabindex="3">
                                        <#if environment.authEndpoint=="https://login.salesforce.com">
                                            <option value="https://login.salesforce.com" selected>https://login.salesforce.com</option>
                                            <option value="https://test.salesforce.com">https://test.salesforce.com</option>
                                        </#if>
                                        <#if environment.authEndpoint !="https://login.salesforce.com">
                                            <option value="https://login.salesforce.com">https://login.salesforce.com</option>
                                            <option value="https://test.salesforce.com" selected>https://test.salesforce.com</option>
                                        </#if>
                                    </select>
                                </#if>
                            </div>

                            <div class="form-group">
                                <label class="control-label" for="username">${labels["username"]}</label>
                                <#if environment.isReadOnly>
                                    <input type="text" class="form-control" value="${(environment.username)!}" disabled tabindex="4" />
                                </#if>
                                <#if ! environment.isReadOnly>
                                    <input type="text" class="form-control" name="username" id="username" value="${(environment.username)!}" required tabindex="4" />
                                </#if>    
                            </div>

                            <div class="form-group">
                                <label class="control-label" for="password">${labels["password"]}</label>
                                <#if environment.isReadOnly>
                                    <input type="password" class="form-control" value="${(environment.password)!}" disabled tabindex="5" />
                                </#if>
                                <#if ! environment.isReadOnly>
                                    <input type="password" class="form-control" name="password" id="password" value="${(environment.password)!}" required tabindex="5" />
                                </#if>  
                            </div>

                            <div class="form-group">
                                <label class="control-label" for="securityToken">${labels["security.token"]}</label>
                                <#if environment.isReadOnly>
                                    <input type="password" class="form-control" value="${(environment.securityToken)!}" disabled tabindex="6" />
                                </#if>
                                <#if ! environment.isReadOnly>
                                    <input type="password" class="form-control" name="securityToken" id="securityToken" value="${(environment.securityToken)!}" required tabindex="6" />
                                </#if> 
                            </div>

                            <div class="form-group">
                                <label class="control-label" for="organization">${labels["organization.name"]}</label>
                                <input type="text" class="form-control" name="organization" id="organization" value="${(environment.organizationName)!}" disabled tabindex="7" />
                            </div>

                            <div class="form-group">
                                <label class="control-label" for="serviceEndpoint">${labels["service.endpoint"]}</label>
                                <input type="text" class="form-control" name="serviceEndpoint" id="serviceEndpoint" value="${(environment.serviceEndpoint)!}" disabled tabindex="8" />
                            </div>

                            <div class="form-group">
                                <div class="pull-right">
                                    <a href="${labels['base.path']}/${salesforceConnector.id}" class="btn btn-default" role="button" tabindex="14">${labels["cancel"]}</a>
                                    <button type="submit" name="submit" id="submit" class="btn btn-primary" tabindex="15">${labels["save"]}</button>
                                </div>
                            </div>

                        </div>

                        <div class="form-group col-md-4"></div>
                    </div>

                </form>

                <br>
            </div>
        </div>

        <#include "confirm-dialog.html"/>
        <#include "spinner.html"/>


    </@t.page>